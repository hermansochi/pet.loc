var e=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,u=e.length;t<n;t++,u++)e[u]=r[t];return e},r=Object.create,t=Object.defineProperty,n=Object.defineProperties,u=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,c=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,l=function(e,r,n){return r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n},d=function(e,r){for(var t in r||(r={}))a.call(r,t)&&l(e,t,r[t]);if(s)for(var n=0,u=s(r);n<u.length;n++)f.call(r,t=u[n])&&l(e,t,r[t]);return e},p=function(e,r){return n(e,i(r))},v=function(e){return t(e,"__esModule",{value:!0})},y=function(e,r,n){if(r&&"object"==typeof r||"function"==typeof r)for(var i=function(i){a.call(e,i)||"default"===i||t(e,i,{get:function(){return r[i]},enumerable:!(n=u(r,i))||n.enumerable})},s=0,c=o(r);s<c.length;s++)i(c[s]);return e},b=function(e){return y(v(t(null!=e?r(c(e)):{},"default",e&&e.__esModule&&"default"in e?{get:function(){return e.default},enumerable:!0}:{value:e,enumerable:!0})),e)};v(exports),function(e,r){for(var n in r)t(e,n,{get:r[n],enumerable:!0})}(exports,{ApiProvider:function(){return U},createApi:function(){return V},reactHooksModule:function(){return _}});var g=b(require("@reduxjs/toolkit/query")),h=b(require("@reduxjs/toolkit")),m=b(require("react")),S=b(require("@reduxjs/toolkit/query")),q=b(require("react-redux")),O=b(require("react"));function k(e,r,t,n){var u=(0,O.useMemo)((function(){return{queryArgs:e,serialized:"object"==typeof e?r({queryArgs:e,endpointDefinition:t,endpointName:n}):e}}),[e,r,t,n]),i=(0,O.useRef)(u);return(0,O.useEffect)((function(){i.current.serialized!==u.serialized&&(i.current=u)}),[u]),i.current.serialized===u.serialized?i.current.queryArgs:e}var E=Symbol(),Q=b(require("react")),x=b(require("react-redux"));function j(e){var r=(0,Q.useRef)(e);return(0,Q.useEffect)((function(){(0,x.shallowEqual)(r.current,e)||(r.current=e)}),[e]),(0,x.shallowEqual)(r.current,e)?r.current:e}var M,L,R="undefined"!=typeof window&&window.document&&window.document.createElement?m.useLayoutEffect:m.useEffect,w=function(e){return e},z=function(e){return e},A=function(e){return e.isUninitialized?p(d({},e),{isUninitialized:!1,isFetching:!0,isLoading:void 0===e.data,status:S.QueryStatus.pending}):e};function D(e){return e.replace(e[0],e[0].toUpperCase())}function P(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.assign.apply(Object,e([r],t))}(L=M||(M={})).query="query",L.mutation="mutation";var C=b(require("react-redux")),I=Symbol(),_=function(e){var r=void 0===e?{}:e,t=r.batch,n=void 0===t?C.batch:t,u=r.useDispatch,i=void 0===u?C.useDispatch:u,o=r.useSelector,s=void 0===o?C.useSelector:o,c=r.useStore,a=void 0===c?C.useStore:c,f=r.unstable__sideEffectsInRender,l=void 0!==f&&f;return{name:I,init:function(e,r,t){var u=e,o=function(e){var r=e.api,t=e.moduleOptions,n=t.batch,u=t.useDispatch,i=t.useSelector,o=t.useStore,s=e.serializeQueryArgs,c=e.context,a=t.unstable__sideEffectsInRender?function(e){return e()}:m.useEffect;return{buildQueryHooks:function(e){var t=function(t,n){var o=void 0===n?{}:n,f=o.refetchOnReconnect,l=o.refetchOnFocus,d=o.refetchOnMountOrArgChange,p=o.skip,v=void 0!==p&&p,y=o.pollingInterval,b=void 0===y?0:y,g=r.endpoints[e].initiate,h=u(),q=k(v?S.skipToken:t,s,c.endpointDefinitions[e],e),O=j({refetchOnReconnect:f,refetchOnFocus:l,pollingInterval:b}),E=(0,m.useRef)(),Q=E.current||{},x=Q.queryCacheKey,M=Q.requestId,L=i((function(e){var t;return!!x&&!!M&&!(null==(t=e[r.reducerPath].subscriptions[x])?void 0:t[M])}));return a((function(){E.current=void 0}),[L]),a((function(){var e,r=E.current;if(q===S.skipToken)return null==r||r.unsubscribe(),void(E.current=void 0);var t=null==(e=E.current)?void 0:e.subscriptionOptions;if(r&&r.arg===q)O!==t&&r.updateSubscriptionOptions(O);else{null==r||r.unsubscribe();var n=h(g(q,{subscriptionOptions:O,forceRefetch:d}));E.current=n}}),[h,g,d,q,O,L]),(0,m.useEffect)((function(){return function(){var e;null==(e=E.current)||e.unsubscribe(),E.current=void 0}}),[]),(0,m.useMemo)((function(){return{refetch:function(){var e;null==(e=E.current)||e.refetch()}}}),[])},l=function(t){var i=void 0===t?{}:t,o=i.refetchOnReconnect,s=i.refetchOnFocus,c=i.pollingInterval,f=void 0===c?0:c,l=r.endpoints[e].initiate,d=u(),p=(0,m.useState)(E),v=p[0],y=p[1],b=(0,m.useRef)(),g=j({refetchOnReconnect:o,refetchOnFocus:s,pollingInterval:f});a((function(){var e,r,t=null==(e=b.current)?void 0:e.subscriptionOptions;g!==t&&(null==(r=b.current)||r.updateSubscriptionOptions(g))}),[g]);var h=(0,m.useRef)(g);a((function(){h.current=g}),[g]);var S=(0,m.useCallback)((function(e,r){var t;return void 0===r&&(r=!1),n((function(){var n;null==(n=b.current)||n.unsubscribe(),b.current=t=d(l(e,{subscriptionOptions:h.current,forceRefetch:!r})),y(e)})),t}),[d,l]);return(0,m.useEffect)((function(){return function(){var e;null==(e=null==b?void 0:b.current)||e.unsubscribe()}}),[]),(0,m.useEffect)((function(){v===E||b.current||S(v,!0)}),[v,S]),(0,m.useMemo)((function(){return[S,v]}),[S,v])},v=function(t,n){var u=void 0===n?{}:n,a=u.skip,l=u.selectFromResult,d=void 0===l?w:l,p=r.endpoints[e].select,v=k(void 0!==a&&a?S.skipToken:t,s,c.endpointDefinitions[e],e),y=(0,m.useRef)(),b=(0,m.useMemo)((function(){return(0,h.createSelector)([p(v),function(e,r){return r},function(e){return v}],f)}),[p,v]),g=(0,m.useMemo)((function(){return(0,h.createSelector)([b],d)}),[b,d]),O=i((function(e){return g(e,y.current)}),q.shallowEqual),E=o(),Q=b(E.getState(),y.current);return R((function(){y.current=Q}),[Q]),O};return{useQueryState:v,useQuerySubscription:t,useLazyQuerySubscription:l,useLazyQuery:function(e){var r=l(e),t=r[0],n=r[1],u=v(n,p(d({},e),{skip:n===E})),i=(0,m.useMemo)((function(){return{lastArg:n}}),[n]);return(0,m.useMemo)((function(){return[t,u,i]}),[t,u,i])},useQuery:function(e,r){var n=t(e,r),u=v(e,d({selectFromResult:e===S.skipToken||(null==r?void 0:r.skip)?void 0:A},r));return(0,m.useDebugValue)({data:u.data,status:u.status,isLoading:u.isLoading,isSuccess:u.isSuccess,isError:u.isError,error:u.error}),(0,m.useMemo)((function(){return d(d({},u),n)}),[u,n])}}},buildMutationHook:function(e){return function(t){var o=void 0===t?{}:t,s=o.selectFromResult,c=void 0===s?z:s,a=o.fixedCacheKey,f=r.endpoints[e],l=f.select,v=f.initiate,y=u(),b=(0,m.useState)(),g=b[0],S=b[1];(0,m.useEffect)((function(){return function(){(null==g?void 0:g.arg.fixedCacheKey)||null==g||g.reset()}}),[g]);var O=(0,m.useCallback)((function(e){var r=y(v(e,{fixedCacheKey:a}));return S(r),r}),[y,v,a]),k=(g||{}).requestId,E=(0,m.useMemo)((function(){return(0,h.createSelector)([l({fixedCacheKey:a,requestId:null==g?void 0:g.requestId})],c)}),[l,g,c,a]),Q=i(E,q.shallowEqual),x=null==a?null==g?void 0:g.arg.originalArgs:void 0,j=(0,m.useCallback)((function(){n((function(){g&&S(void 0),a&&y(r.internalActions.removeMutationResult({requestId:k,fixedCacheKey:a}))}))}),[y,a,g,k]);(0,m.useDebugValue)({endpointName:Q.endpointName,data:Q.data,status:Q.status,isLoading:Q.isLoading,isSuccess:Q.isSuccess,isError:Q.isError,error:Q.error});var M=(0,m.useMemo)((function(){return p(d({},Q),{originalArgs:x,reset:j})}),[Q,x,j]);return(0,m.useMemo)((function(){return[O,M]}),[O,M])}},usePrefetch:function(e,t){var n=u(),i=j(t);return(0,m.useCallback)((function(t,u){return n(r.util.prefetch(e,t,d(d({},i),u)))}),[e,n,i])}};function f(e,r,t){if((null==r?void 0:r.endpointName)&&e.isUninitialized){var n=r.endpointName,u=c.endpointDefinitions[n];s({queryArgs:r.originalArgs,endpointDefinition:u,endpointName:n})===s({queryArgs:t,endpointDefinition:u,endpointName:n})&&(r=void 0)}var i=e.isSuccess?e.data:null==r?void 0:r.data;void 0===i&&(i=e.data);var o=void 0!==i,a=e.isLoading,f=!o&&a,l=e.isSuccess||a&&o;return p(d({},e),{data:i,currentData:e.data,isFetching:a,isLoading:f,isSuccess:l})}}({api:e,moduleOptions:{batch:n,useDispatch:i,useSelector:s,useStore:a,unstable__sideEffectsInRender:l},serializeQueryArgs:r.serializeQueryArgs,context:t}),c=o.buildQueryHooks,f=o.buildMutationHook;return P(u,{usePrefetch:o.usePrefetch}),P(t,{batch:n}),{injectEndpoint:function(r,t){if(t.type===M.query){var n=c(r),i=n.useQuery,o=n.useLazyQuery;P(u.endpoints[r],{useQuery:i,useLazyQuery:o,useLazyQuerySubscription:n.useLazyQuerySubscription,useQueryState:n.useQueryState,useQuerySubscription:n.useQuerySubscription}),e["use"+D(r)+"Query"]=i,e["useLazy"+D(r)+"Query"]=o}else if(t.type===M.mutation){var s=f(r);P(u.endpoints[r],{useMutation:s}),e["use"+D(r)+"Mutation"]=s}}}}}};y(exports,b(require("@reduxjs/toolkit/query")));var F=b(require("@reduxjs/toolkit")),N=b(require("react")),K=b(require("react")),H=b(require("react-redux")),T=b(require("@reduxjs/toolkit/query"));function U(e){var r=K.default.useState((function(){var r;return(0,F.configureStore)({reducer:(r={},r[e.api.reducerPath]=e.api.reducer,r),middleware:function(r){return r().concat(e.api.middleware)}})}))[0];return(0,N.useEffect)((function(){return!1===e.setupListeners?void 0:(0,T.setupListeners)(r.dispatch,e.setupListeners)}),[e.setupListeners]),K.default.createElement(H.Provider,{store:r,context:e.context},e.children)}var V=(0,g.buildCreateApi)((0,g.coreModule)(),_());
//# sourceMappingURL=rtk-query-react.cjs.production.min.js.map